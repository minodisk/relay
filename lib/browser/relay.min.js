((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=function(a,b){return function(){return a.apply(b,arguments)}},A=Object.prototype.hasOwnProperty,B=function(a,b){function d(){this.constructor=a}for(var c in b)A.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},C=Array.prototype.slice;x=Array.prototype.slice,n=Math.PI,o=n*2,p=n/2,q=Math.abs,u=Math.pow,y=Math.sqrt,w=Math.sin,s=Math.cos,r=Math.asin,v=function(){return(typeof window!="undefined"&&window!==null?window.requestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.webkitRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.mozRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.msRequestAnimationFrame:void 0)||(typeof window!="undefined"&&window!==null?window.oRequestAnimationFrame:void 0)||function(a){return setTimeout(function(){return a((new Date).getTime())},16.666666666666668)}}(),t=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},i=function(){function a(){}return a.func=function(a){var b;if((b=arguments.length)!==1)throw new TypeError("Relay.func() takes exactly 1 argument ("+b+" given)");return new e(a)},a.wait=function(a){var b;if((b=arguments.length)!==1)throw new TypeError("Relay.wait() takes exactly 1 argument ("+b+" given)");return new l(a)},a.serial=function(a){return t(a)||(a=arguments.length>0?x.call(arguments,0):[]),new j(a)},a.parallel=function(a){return t(a)||(a=arguments.length>0?x.call(arguments,0):[]),new g(a)},a.each=function(a,b){var c;b==null&&(b=!1);if((c=arguments.length)!==1&&c!==2)throw new TypeError("Relay.each() takes exactly 2 arguments ("+c+" given)");return b?new k(a):new h(a)},a.tween=function(a,b,e,f,g){return f==null&&(f=1e3),g==null&&(g=c.linear),new d(a,b,e,f,g)},a.to=function(a,b,e,f){return e==null&&(e=1e3),f==null&&(f=c.linear),new d(a,null,b,e,f)},a}(),a=function(){function a(){this.root=this}return a.prototype.start=function(){return this._reset(),this},a.prototype.stop=function(){return this},a.prototype.complete=function(a){return this.onComplete=a,this},a.prototype._reset=function(){if(this===this.root)return this.global={}},a.prototype._onStart=function(){return typeof this.onStart=="function"?this.onStart(this):void 0},a.prototype._onComplete=function(a){var b;return(b=this.onComplete)!=null?b.apply(this,a):void 0},a}(),e=function(a){function b(a){this._func=a,this.next=z(this.next,this),b.__super__.constructor.call(this);if(typeof this._func!="function")throw new TypeError("new FunctionActor(func) func must be inspected Function.")}return B(b,a),b.prototype.clone=function(){return new b(this._func)},b.prototype.start=function(){var a;return a=1<=arguments.length?C.call(arguments,0):[],b.__super__.start.call(this),this._func.apply(this,a),this},b.prototype.next=function(){var a;return a=1<=arguments.length?C.call(arguments,0):[],this._onComplete(a),this},b.prototype._onComplete=function(a){b.__super__._onComplete.call(this,a)},b}(a),l=function(a){function b(a){this._delay=a;if(isNaN(this._delay))throw new TypeError("new WaitActor(delay) delay must be inspected Number.");b.__super__.constructor.call(this,function(){return setTimeout(this.next,this._delay)},null,!0)}return B(b,a),b.prototype.clone=function(){return new b(this._delay)},b}(e),f=function(b){function c(b){var d,e,f;c.__super__.constructor.call(this),this._actors=[],this.__actors=[];for(e=0,f=b.length;e<f;e++){d=b[e];if(d instanceof a)this._actors[e]=d.clone(),this.__actors[e]=d.clone();else throw new TypeError("Arguments[0] of GroupActor must be inspected Array of Actor.")}}return B(c,b),c.prototype.stop=function(){var b,d,e,f;c.__super__.stop.call(this),f=this._actors;for(d=0,e=f.length;d<e;d++)b=f[d],b instanceof a&&b.stop();return this},c.prototype._reset=function(){var a,b,d,e;c.__super__._reset.call(this),this.local={index:0,length:this._actors.length},this===this.root&&(this.global.index=0),e=this._actors;for(b=0,d=e.length;b<d;b++)a=e[b],a._reset()},c.prototype._act=function(a,b){var d=this;a.root=this.root,a.skip=function(){return d.local.index=d.local.length,d._onComplete()},a.global=this.global,a instanceof c||(a.local=this.local),a.start.apply(a,b)},c}(a),j=function(a){function b(){this.next=z(this.next,this),b.__super__.constructor.apply(this,arguments)}return B(b,a),b.prototype.clone=function(){return new b(this.__actors)},b.prototype.start=function(){var a;return a=1<=arguments.length?C.call(arguments,0):[],b.__super__.start.call(this),this.local.index<this.local.length&&(this._act(this._actors[this.local.index],a),this._onStart()),this},b.prototype.next=function(){var a,b;return b=1<=arguments.length?C.call(arguments,0):[],a=this._actors[this.local.index],this.local.index++,a instanceof f?this.global.index=this.root.global.index:this.root.global.index++,this.local.index<this.local.length?this._act(this._actors[this.local.index],b):this.local.index===this.local.length&&this._onComplete(b),this},b.prototype._act=function(a,c){a.onComplete=this.next,b.__super__._act.call(this,a,c)},b}(f),k=function(a){function b(a){this.next=z(this.next,this),b.__super__.constructor.call(this,[a])}return B(b,a),b.prototype.clone=function(){return new b(this.__actors[0])},b.prototype.start=function(a){var c,d,e,f;this._args=a,this._actors=[],f=this._args;for(d=0,e=f.length;d<e;d++)c=f[d],this._actors[d]=this.__actors[0].clone();return this._storage=[],b.__super__.start.call(this)},b.prototype.next=function(){var a;return a=1<=arguments.length?C.call(arguments,0):[],this._storage[this.local.index]=a,b.__super__.next.call(this)},b.prototype._onComplete=function(){return b.__super__._onComplete.call(this,this._storage)},b.prototype._act=function(a){b.__super__._act.call(this,a,[this._args[this.local.index],this.local.index,this._args])},b}(j),g=function(a){function b(){this.next=z(this.next,this),b.__super__.constructor.apply(this,arguments)}return B(b,a),b.prototype.clone=function(){return new b(this.__actors)},b.prototype.start=function(){var a,c,d,e,f,g=this;c=1<=arguments.length?C.call(arguments,0):[],b.__super__.start.call(this),this._storage=[];if(this.local.index<this.local.length){f=this._actors;for(d=0,e=f.length;d<e;d++)a=f[d],a.onComplete=function(a){return function(){var b;return b=1<=arguments.length?C.call(arguments,0):[],b.unshift(a),g.next.apply(g,b)}}(d),this.local.index<this.local.length&&this._act(a,c,d);this._onStart()}return this},b.prototype.next=function(){var a,b,c=this;return b=arguments[0],a=2<=arguments.length?C.call(arguments,1):[],this._storage[b]=a,setTimeout(function(){c.local.index++,c.root.global.index++;if(c.local.index>=c.local.length)return c.local.index=c.local.length,c._onComplete(c._storage)},0),this},b}(f),h=function(a){function b(a){b.__super__.constructor.call(this,[a])}return B(b,a),b.prototype.clone=function(){return new b(this.__actors[0])},b.prototype.start=function(a){var c,d,e;this._actors=[];for(d=0,e=a.length;d<e;d++)c=a[d],this._actors[d]=this.__actors[0].clone();return b.__super__.start.apply(this,a)},b.prototype._act=function(a,c,d){return b.__super__._act.call(this,a,[c[d],d,c])},b}(g),d=function(a){function c(a,d,e,f,g){this._target=a,this.src=d,this.dst=e,this.duration=f,this.easing=g,this._update=z(this._update,this),c.__super__.constructor.call(this),typeof window!="undefined"&&window!==null&&this._target instanceof window.HTMLElement?(this.target=this._target.style,this.object=c._getStyle(this._target)):this.target=this.object=this._target,this._requestAnimationFrame=b.getInstance()}return B(c,a),c._getStyle=function(a){return getComputedStyle(a,"")||a.currentStyle},c.prototype.clone=function(){return new c(this._target,this.src,this.dst,this.duration,this.easing)},c.prototype.start=function(){var a,b,d,e,f,g,h,i,j,k,l,m;c.__super__.start.call(this),f=this.object,h=this.src,e=this.dst,b={},d=["src","dst"];for(g in h)k=h[g],b[g]==null&&(b[g]={}),b[g].src=k;for(g in e)k=e[g],b[g]==null&&(b[g]={}),b[g].dst=k;for(g in b){a=b[g];for(l=0,m=d.length;l<m;l++)i=d[l],k=a[i],k==null&&(k=f[g]),j=typeof k,j==="number"?a[i]=k:j==="string"&&(k=k.match(/(\d+)(\D*)/),a[i]=Number(k[1]),a.unit==null&&(a.unit=k[2]!=null?k[2]:""))}return this.changers=b,this._beginningTime=(new Date).getTime(),this._requestAnimationFrame.addHandler(this._update),typeof this.onStart=="function"&&this.onStart(),this},c.prototype._update=function(a){var b,c,d,e,f,g;this.time=a-this._beginningTime,this.time>=this.duration?(this.time=this.duration,e=1,this._requestAnimationFrame.removeHandler(this._update)):e=this.easing(this.time,0,1,this.duration),g=this.target,c=this.changers;for(f in c)b=c[f],d=b.src+(b.dst-b.src)*e,g[f]=b.unit?""+d+b.unit:d;typeof this.onUpdate=="function"&&this.onUpdate(),this.time===this.duration&&this._onComplete()},c}(a),b=function(){function a(){this._onAnimationFrame=z(this._onAnimationFrame,this),this.addHandler=z(this.addHandler,this);if(!a.internal)throw new Error("Ticker is singleton model, call Ticker.getInstance().");a.internal=!1,this._handlers=[],this._continuous=!1,this._counter=0}return a.getInstance=function(){return this.instance==null&&(this.internal=!0,this.instance=new a),this.instance},a.prototype.addHandler=function(a){this._handlers.push(a),this._continuous===!1&&(this._continuous=!0,v(this._onAnimationFrame))},a.prototype.removeHandler=function(a){this._handlers.splice(this._handlers.indexOf(a),1),this._handlers.length===0&&(this._continuous=!1)},a.prototype._onAnimationFrame=function(a){var b,c,d,e,f;this._counter++,f=this._handlers,c=function(b){return setTimeout(function(){return b(a)},0)};for(d=0,e=f.length;d<e;d++)b=f[d],c(b);this._continuous===!0&&v(this._onAnimationFrame)},a}(),c=function(){function a(){}return a.linear=function(a,b,c,d){return c*a/d+b},a.easeInQuad=function(a,b,c,d){return a/=d,c*a*a+b},a.easeOutQuad=function(a,b,c,d){return a/=d,-c*a*(a-2)+b},a.easeInOutQuad=function(a,b,c,d){return a*=2/d,a<1?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},a.easeOutInQuad=function(a,b,c,d){return a*=2/d,a<1?-c/2*a*(a-2)+b:(a--,c/2*(a*a+1)+b)},a.easeInCubic=function(a,b,c,d){return a/=d,c*a*a*a+b},a.easeOutCubic=function(a,b,c,d){return a=a/d-1,c*(a*a*a+1)+b},a.easeInOutCubic=function(a,b,c,d){return a*=2/d,a<1?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b)},a.easeOutInCubic=function(a,b,c,d){return a=a*2/d-1,c/2*(a*a*a+1)+b},a.easeInQuart=function(a,b,c,d){return a/=d,c*a*a*a*a+b},a.easeOutQuart=function(a,b,c,d){return a=a/d-1,-c*(a*a*a*a-1)+b},a.easeInOutQuart=function(a,b,c,d){return a*=2/d,a<1?c/2*a*a*a*a+b:(a-=2,-c/2*(a*a*a*a-2)+b)},a.easeOutInQuart=function(a,b,c,d){return a=a*2/d-1,a<0?-c/2*(a*a*a*a-1)+b:c/2*(a*a*a*a+1)+b},a.easeInQuint=function(a,b,c,d){return a/=d,c*a*a*a*a*a+b},a.easeOutQuint=function(a,b,c,d){return a=a/d-1,c*(a*a*a*a*a+1)+b},a.easeInOutQuint=function(a,b,c,d){return a*=2/d,a<1?c/2*a*a*a*a*a+b:(a-=2,c/2*(a*a*a*a*a+2)+b)},a.easeOutInQuint=function(a,b,c,d){return a=a*2/d-1,c/2*(a*a*a*a*a+1)+b},a.easeInExpo=function(a,b,c,d){return c*u(2,10*(a/d-1))+b},a.easeOutExpo=function(a,b,c,d){return c*(1-u(2,-10*a/d))+b},a.easeInOutExpo=function(a,b,c,d){return a=a*2/d-1,a<0?c/2*u(2,10*a)+b:c/2*(2-u(2,-10*a))+b},a.easeOutInExpo=function(a,b,c,d){return a*=2/d,a===1?c/2+b:a<1?c/2*(1-u(2,-10*a))+b:c/2*(1+u(2,10*(a-2)))+b},a.easeInSine=function(a,b,c,d){return-c*(s(a/d*p)-1)+b},a.easeOutSine=function(a,b,c,d){return c*w(a/d*p)+b},a.easeInOutSine=function(a,b,c,d){return-c/2*(s(n*a/d)-1)+b},a.easeOutInSine=function(a,b,c,d){return a*=2/d,a<1?c/2*w(a*p)+b:-c/2*(s((a-1)*p)-2)+b},a.easeInCirc=function(a,b,c,d){return a/=d,-c*(y(1-a*a)-1)+b},a.easeOutCirc=function(a,b,c,d){return a=a/d-1,c*y(1-a*a)+b},a.easeInOutCirc=function(a,b,c,d){return a*=2/d,a<1?-c/2*(y(1-a*a)-1)+b:(a-=2,c/2*(y(1-a*a)+1)+b)},a.easeOutInCirc=function(a,b,c,d){return a=a*2/d-1,a<0?c/2*y(1-a*a)+b:-c/2*(y(1-a*a)-2)+b},a.easeInBackWith=function(a){return a==null&&(a=1.70158),function(b,c,d,e){var f;return f=a,b/=e,d*b*b*((f+1)*b-f)+c}},a.easeInBack=a.easeInBackWith(),a.easeOutBackWith=function(a){return a==null&&(a=1.70158),function(b,c,d,e){var f;return f=a,b=b/e-1,d*(b*b*((f+1)*b+f)+1)+c}},a.easeOutBack=a.easeOutBackWith(),a.easeInOutBackWith=function(a){return a==null&&(a=1.70158),function(b,c,d,e){var f;return f=a*1.525,b*=2/e,b<1?d/2*b*b*((f+1)*b-f)+c:(b-=2,d/2*(b*b*((f+1)*b+f)+2)+c)}},a.easeInOutBack=a.easeInOutBackWith(),a.easeOutInBackWith=function(a){return a==null&&(a=1.70158),function(b,c,d,e){var f;return f=a,b=b*2/e-1,b<0?d/2*(b*b*((f+1)*b+f)+1)+c:d/2*(b*b*((f+1)*b-f)+1)+c}},a.easeOutInBack=a.easeOutInBackWith(),a.easeInBounce=function(a,b,c,d){return a=1-a/d,a<.36363636363636365?-c*(7.5625*a*a-1)+b:a<.7272727272727273?(a-=.5454545454545454,-c*(7.5625*a*a-.25)+b):a<.9090909090909091?(a-=.8181818181818182,-c*(7.5625*a*a-.0625)+b):(a-=.9545454545454546,-c*(7.5625*a*a-.015625)+b)},a.easeOutBounce=function(a,b,c,d){return a/=d,a<.36363636363636365?c*7.5625*a*a+b:a<.7272727272727273?(a-=.5454545454545454,c*(7.5625*a*a+.75)+b):a<.9090909090909091?(a-=.8181818181818182,c*(7.5625*a*a+.9375)+b):(a-=.9545454545454546,c*(7.5625*a*a+.984375)+b)},a.easeInOutBounce=function(a,b,c,d){return a*=2/d,a<1?(a=1-a,a<.36363636363636365?-c/2*(7.5625*a*a-1)+b:a<.7272727272727273?(a-=.5454545454545454,-c/2*(7.5625*a*a-.25)+b):a<.9090909090909091?(a-=.8181818181818182,-c/2*(7.5625*a*a-.0625)+b):(a-=.9545454545454546,-c/2*(7.5625*a*a-.015625)+b)):(a-=1,a<.36363636363636365?c/2*(7.5625*a*a+1)+b:a<.7272727272727273?(a-=.5454545454545454,c/2*(7.5625*a*a+1.75)+b):a<.9090909090909091?(a-=.8181818181818182,c/2*(7.5625*a*a+1.9375)+b):(a-=.9545454545454546,c/2*(7.5625*a*a+1.984375)+b))},a.easeOutInBounce=function(a,b,c,d){return a*=2/d,a<1?a<.36363636363636365?c/2*7.5625*a*a+b:a<.7272727272727273?(a-=.5454545454545454,c/2*(7.5625*a*a+.75)+b):a<.9090909090909091?(a-=.8181818181818182,c/2*(7.5625*a*a+.9375)+b):(a-=.9545454545454546,c/2*(7.5625*a*a+.984375)+b):(a=2-a,a<.36363636363636365?-c/2*(7.5625*a*a-2)+b:a<.7272727272727273?(a-=.5454545454545454,-c/2*(7.5625*a*a-1.25)+b):a<.9090909090909091?(a-=.8181818181818182,-c/2*(7.5625*a*a-1.0625)+b):(a-=.9545454545454546,-c/2*(7.5625*a*a-1.015625)+b))},a.easeInElasticWith=function(a,b){return a==null&&(a=0),b==null&&(b=0),function(c,d,e,f){var g,h,i;return h=a,i=b,c=c/f-1,i===0&&(i=f*.3),h===0||h<q(e)?(h=e,g=i/4):g=i/o*r(e/h),-h*u(2,10*c)*w((c*f-g)*o/i)+d}},a.easeInElastic=a.easeInElasticWith(),a.easeOutElasticWith=function(a,b){return a==null&&(a=0),b==null&&(b=0),function(c,d,e,f){var g,h,i;return h=a,i=b,c/=f,i===0&&(i=f*.3),h===0||h<q(e)?(h=e,g=i/4):g=i/o*r(e/h),h*u(2,-10*c)*w((c*f-g)*o/i)+d+e}},a.easeOutElastic=a.easeOutElasticWith(),a.easeInOutElasticWith=function(a,b){return a==null&&(a=0),b==null&&(b=0),function(c,d,e,f){var g,h,i;return h=a,i=b,c=c*2/f-1,i===0&&(i=f*.45),h===0||h<q(e)?(h=e,g=i/4):g=i/o*r(e/h),c<0?-h/2*u(2,10*c)*w((c*f-g)*o/i)+d:h/2*u(2,-10*c)*w((c*f-g)*o/i)+d+e}},a.easeInOutElastic=a.easeInOutElasticWith(),a.easeOutInElasticWith=function(a,b){return a==null&&(a=0),b==null&&(b=0),function(c,d,e,f){var g,h,i;return h=a,i=b,c=c*2/f,e/=2,i===0&&(i=f*.3),h===0||h<q(e)?(h=e,g=i/4):g=i/o*r(e/h),c<1?h*u(2,-10*c)*w((c*f-g)*o/i)+d+e:(c-=2,-h*u(2,10*c)*w((c*f-g)*o/i)+d+e)}},a.easeOutInElastic=a.easeOutInElasticWith(),a}(),m={Relay:i,Easing:c,AnimationFrameTicker:b},typeof module!="undefined"&&module!==null?module.exports=m:typeof define!="undefined"&&define!==null?define(function(){return m}):typeof window!="undefined"&&window!==null&&(window.mn==null&&(window.mn={}),window.mn.dsk==null&&(window.mn.dsk={}),window.mn.dsk.relay=m)})).call(this)